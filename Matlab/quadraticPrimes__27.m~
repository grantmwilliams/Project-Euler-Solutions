%% Quadratic Primes 27

%% Brute Force (Pretty Slow)
clear;close all;clc;
tic

p = primes(1000);
nMax = 0;aMax=0;bMax=0;x = zeros(1,250);
for a = -999:2:999
    for j = 1:length(p)
        b = p(j);
        n = 0;
        i = 1;
        while (1)
            x(i) = n^2 + a*n + b;
            if isprime(abs(x(i))) == 1  %actually slower.
            %if ismember(abs(x(i)),p) == 1  
                n = n+1;
                i = i+1;
            else
                break
            end
        end
        
        if n > nMax
            aMax = a;
            bMax = b;
            nMax = n;
        end
    end
end

final = aMax * bMax;
fprintf('A sequence of length %d, is generated by a=%d, b=%d, the product is %d\n',nMax, aMax,bMax, final);

toc;


